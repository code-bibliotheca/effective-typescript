# 아이템 35. 데이터가 아닌, API와 명세를 보고 타입 만들기

> 파일 형식, API, 명세 등이 있는 경우 타입을 직접 작성하지 않고 외부로부터 자동으로 생성 가능!(단 해당 명세가 명확해야 함)

들어오는 데이터만 보고 타입을 정하게 되면 데이터를 넘겨주는 쪽의 의도에 벗어난 타입을 지정하게 되는 경우가 생길 수 있다.

예를 들어, 상품과 관련된 데이터를 서버로부터 받는다고 가정해보자. 이 때 테스트 케이스에 대한 데이터로 id, name, price가 들어왔다면 다음과 같이 타입을 정할 수 있을 것이다.

```ts
type Product = {
  id: number;
  name: string;
  price: number;
};
```

하지만 서버 쪽에서 만약에 price는 옵셔널한 값이고, 데이터로 넘겨주진 않았지만 category라는 타입이 존재할 때 클라이언트 쪽 코드에선 다음 두 가지 문제가 생기게 된다.

> 1. 값이 안들어오는 불완전한 데이터에 대한 오류 생길 수 있음
> 2. 누락된 데이터에 대해 인식할 수 었음

따라서 항상 명세를 통해 타입을 정해야 한다!

## GraphQL, Apollo

명세도 사람이 작성하는 것이기 때문에 말로 주고받고 서로 타입을 지정하는 과정에 human error가 생길 확률이 높다. 이를 방지하고 자동화를 통해 클라이언트가 타입을 편하게 사용할 수 있도록 하는 도구 중에
쿼리 언어인 [GraphQL](https://graphql.org/)과 마이크로 서비스 API 플랫폼인 [Apollo](https://www.apollographql.com/)가 있다.

github GraphQL API를 사용하는 예시가 책에 있었으나, 사용 방식은 다양하기 때문에 타입을 잘 지정하고, Apollo를 활용해 typescript에서 사용할 수 있는 타입으로 자동으로 변환할 수 있다 정도를 알고 있으면 될듯하다.
